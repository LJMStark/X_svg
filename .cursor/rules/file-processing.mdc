# 文件处理规范

## 输入文件管理

- 推文数据集： [twillot-public-post-sorted.json](mdc:twillot-public-post-sorted.json)
- SVG提示词： [svg提示词.txt](mdc:svg提示词.txt)
- 小红书提示词： [小红书文案提示词.txt](mdc:小红书文案提示词.txt)

## 输出文件组织

- 输出目录： [output/](mdc:output/)
- 为每条记录创建独立文件夹
- 文件夹命名使用推文标题（清理后的文件名）
- 每个文件夹包含：generated.svg、title.txt、body.txt

## 文件名清理

- 移除不合法字符：`<>:"/\|?*`
- 替换多个空格为单个空格
- 限制文件名长度（默认100字符）
- 处理文件名冲突（添加数字后缀）

## 文件编码

- 所有文本文件使用UTF-8编码
- 确保中文字符正确显示
- 处理特殊字符和换行符

## 错误处理

- 文件不存在时提供清晰的错误信息
- 文件读写失败时记录详细日志
- 磁盘空间不足时给出警告
- 支持断点续传，跳过已处理的文件

## 日志记录

- 所有文件操作都记录到 [batch_process.log](mdc:batch_process.log)
- 包含文件路径、操作类型、成功/失败状态
- 记录文件大小和处理时间信息
description:
globs:
alwaysApply: true
---
